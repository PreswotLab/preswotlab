{"version":3,"file":"server.js","names":["COOKIE_SECRET","process","env","app","express","use","morgan","set","cwd","urlencoded","extended","json","session","secret","resave","saveUninitialized","flash","localMiddleware","rootRouter","PORT","listen","console","log"],"sources":["../src/server.js"],"sourcesContent":["import express from 'express';\nimport morgan from 'morgan';\nimport rootRouter from './routers/rootRouter';\nimport flash from 'express-flash'\nimport \"dotenv/config\"\nimport {urlencoded} from 'body-parser';\nimport session from 'express-session';\nconst { COOKIE_SECRET } = process.env;\nimport { localMiddleware } from './middlewares';\n\n\nconst app = express();\n\n\n//server로 어떤 요청 오는지 확인\napp.use(morgan(\"dev\"));\n\n\n//템플릿 엔진 세팅\napp.set(\"view engine\", \"pug\")\napp.set(\"views\", process.cwd() + \"/src/views/layouts\")\n\n\n//formdata middleware\napp.use(urlencoded({ extended : true }));\n\n//string middleware\napp.use(express.json());\n\n//세션 미들웨어\napp.use(\n\tsession({\n\t\tsecret: COOKIE_SECRET,\n\t\tresave: false,\n\t\tsaveUninitialized: false,\n\t\t//store : 쿠키 저장할 서버DB\n\t})\n)\n\n\n//플래시메시지\napp.use(flash());\n//세션 정보 로컬 저장 미들웨어, 로그인 정보(ip, port, dbname, username 저장)\napp.use(localMiddleware);\n\n//client단에서 사용될 정적파일들\n//app.use(\"/assets\", express.static())\n\n//root router에서 페이지 이동처리\napp.use(\"/\", rootRouter);\n\n//server 3000번 port사용, Listening 핸들러 호출\nconst PORT = 3000;\napp.listen(PORT, () => {\n\tconsole.log('test')\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAgD;AADhD,IAAQA,aAAa,GAAKC,OAAO,CAACC,GAAG,CAA7BF,aAAa;AAIrB,IAAMG,GAAG,GAAG,IAAAC,mBAAO,GAAE;;AAGrB;AACAD,GAAG,CAACE,GAAG,CAAC,IAAAC,kBAAM,EAAC,KAAK,CAAC,CAAC;;AAGtB;AACAH,GAAG,CAACI,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAC7BJ,GAAG,CAACI,GAAG,CAAC,OAAO,EAAEN,OAAO,CAACO,GAAG,EAAE,GAAG,oBAAoB,CAAC;;AAGtD;AACAL,GAAG,CAACE,GAAG,CAAC,IAAAI,sBAAU,EAAC;EAAEC,QAAQ,EAAG;AAAK,CAAC,CAAC,CAAC;;AAExC;AACAP,GAAG,CAACE,GAAG,CAACD,mBAAO,CAACO,IAAI,EAAE,CAAC;;AAEvB;AACAR,GAAG,CAACE,GAAG,CACN,IAAAO,0BAAO,EAAC;EACPC,MAAM,EAAEb,aAAa;EACrBc,MAAM,EAAE,KAAK;EACbC,iBAAiB,EAAE;EACnB;AACD,CAAC,CAAC,CACF;;AAGD;AACAZ,GAAG,CAACE,GAAG,CAAC,IAAAW,wBAAK,GAAE,CAAC;AAChB;AACAb,GAAG,CAACE,GAAG,CAACY,4BAAe,CAAC;;AAExB;AACA;;AAEA;AACAd,GAAG,CAACE,GAAG,CAAC,GAAG,EAAEa,sBAAU,CAAC;;AAExB;AACA,IAAMC,IAAI,GAAG,IAAI;AACjBhB,GAAG,CAACiB,MAAM,CAACD,IAAI,EAAE,YAAM;EACtBE,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;AACpB,CAAC,CAAC"}