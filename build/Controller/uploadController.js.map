{"version":3,"file":"uploadController.js","names":["getUpload","req","res","render","title","postUpload","conn","DBConnectionBySession","session","loginInfo","connect","console","log","headers","body","file","destroy","redirect"],"sources":["../../src/Controller/uploadController.js"],"sourcesContent":["import { DBConnectionBySession } from \"../dbs/DbConnectBySession\"; \n\nexport const getUpload = (req, res) => {\n\treturn res.render('upload', {title : 'upload'});\n}\n\nexport const postUpload = async (req, res) => {\n\t//사용자 DB에 저장함.\n\ttry {\n\t\tlet conn = new DBConnectionBySession(req.session.loginInfo);\n\t\tconn = await conn.connect();\n\t\t//csv 파싱해서 유저 DB에 넣는 로직\n\t\tconsole.log(req.headers);\n\t\tconsole.log(req.body)\n\t\tconsole.log(req.file);\n\t} catch (e) {\n\t\treq.session.destroy();\n\t\treturn (res.redirect(\"/\"));\n\t}\n\treturn (res.redirect(\"/\"));\n}\n"],"mappings":";;;;;;;AAAA;AAAkE,+CAClE;AAAA;AAAA;AACO,IAAMA,SAAS,GAAG,SAAZA,SAAS,CAAIC,GAAG,EAAEC,GAAG,EAAK;EACtC,OAAOA,GAAG,CAACC,MAAM,CAAC,QAAQ,EAAE;IAACC,KAAK,EAAG;EAAQ,CAAC,CAAC;AAChD,CAAC;AAAA;AAEM,IAAMC,UAAU;EAAA,sEAAG,iBAAOJ,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAGnCI,IAAI,GAAG,IAAIC,yCAAqB,CAACN,GAAG,CAACO,OAAO,CAACC,SAAS,CAAC;YAAA;YAAA,OAC9CH,IAAI,CAACI,OAAO,EAAE;UAAA;YAA3BJ,IAAI;YACJ;YACAK,OAAO,CAACC,GAAG,CAACX,GAAG,CAACY,OAAO,CAAC;YACxBF,OAAO,CAACC,GAAG,CAACX,GAAG,CAACa,IAAI,CAAC;YACrBH,OAAO,CAACC,GAAG,CAACX,GAAG,CAACc,IAAI,CAAC;YAAC;YAAA;UAAA;YAAA;YAAA;YAEtBd,GAAG,CAACO,OAAO,CAACQ,OAAO,EAAE;YAAC,iCACdd,GAAG,CAACe,QAAQ,CAAC,GAAG,CAAC;UAAA;YAAA,iCAElBf,GAAG,CAACe,QAAQ,CAAC,GAAG,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACzB;EAAA,gBAdYZ,UAAU;IAAA;EAAA;AAAA,GActB;AAAA"}