{"version":3,"file":"rootRouter.js","names":["rootRouter","express","Router","handleHome","req","res","render","title","get","route","all","checkNotLoginMiddleware","getLogin","post","postLogin","checkLoginMiddleware","getLogout","getUpload","csvUpload","single","postUpload"],"sources":["../../src/routers/rootRouter.js"],"sourcesContent":["import express from 'express';\nimport {getUpload, postUpload} from '../Controller/uploadController';\nimport {\n\tgetLogin, \n\tpostLogin, \n\tgetLogout\n} from '../Controller/userController';\nimport {\n\tcheckLoginMiddleware,\n\tcheckNotLoginMiddleware,\n\tcsvUpload,\n\tlocalMiddleware} from '../middlewares';\n\nconst rootRouter = express.Router();\n\n//application이 /로 들어오는 요청에 대해 콜백함수들을 사용하게된다.\n//이 콜백함수들을 모두 middleware라고 부르며, 중간에 있는 미들웨어는 next()로 제어권을 다음 미들웨어로 위임.\nconst handleHome = async (req, res) => {\n\tres.render('default', \n\t\t{ \n\t\t\ttitle : \"PRESWOT LAB\",\n\t\t});\n}\n\nrootRouter\n\t.get(\"/\", handleHome); //GET /\n\n//login\nrootRouter\n\t.route(\"/login\")\n\t.all(checkNotLoginMiddleware)\n\t.get(getLogin) //GET /login\n\t.post(postLogin); //Post /login login page에서 DB연결 및 Form전송\n\n//logout\nrootRouter\n\t.route('/logout')\n\t.all(checkLoginMiddleware)\n\t.get(getLogout);\n\n//upload\nrootRouter\n\t.route('/upload')\n\t.all(checkLoginMiddleware)\n\t.get(getUpload) //GET /upload 업로드페이지\n\t.post(csvUpload.single(\"csv_file\"), postUpload); //POST /uplaod 업로드데이터 \n\n//domain scan\nrootRouter\n\t.route('/domainscan')\n\t.all(checkLoginMiddleware)\n\t.get()\n\t.post();\n"],"mappings":";;;AAAA;AACA;AACA;AAKA;AAIwC;AAAA,+CAVxC;AAAA;AAAA;AAYA,IAAMA,UAAU,GAAGC,mBAAO,CAACC,MAAM,EAAE;;AAEnC;AACA;AACA,IAAMC,UAAU;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;MAAA;QAAA;UAAA;YACjCA,GAAG,CAACC,MAAM,CAAC,SAAS,EACnB;cACCC,KAAK,EAAG;YACT,CAAC,CAAC;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACJ;EAAA,gBALKJ,UAAU;IAAA;EAAA;AAAA,GAKf;AAEDH,UAAU,CACRQ,GAAG,CAAC,GAAG,EAAEL,UAAU,CAAC,CAAC,CAAC;;AAExB;AACAH,UAAU,CACRS,KAAK,CAAC,QAAQ,CAAC,CACfC,GAAG,CAACC,oCAAuB,CAAC,CAC5BH,GAAG,CAACI,wBAAQ,CAAC,CAAC;AAAA,CACdC,IAAI,CAACC,yBAAS,CAAC,CAAC,CAAC;;AAEnB;AACAd,UAAU,CACRS,KAAK,CAAC,SAAS,CAAC,CAChBC,GAAG,CAACK,iCAAoB,CAAC,CACzBP,GAAG,CAACQ,yBAAS,CAAC;;AAEhB;AACAhB,UAAU,CACRS,KAAK,CAAC,SAAS,CAAC,CAChBC,GAAG,CAACK,iCAAoB,CAAC,CACzBP,GAAG,CAACS,2BAAS,CAAC,CAAC;AAAA,CACfJ,IAAI,CAACK,sBAAS,CAACC,MAAM,CAAC,UAAU,CAAC,EAAEC,4BAAU,CAAC,CAAC,CAAC;;AAElD;AACApB,UAAU,CACRS,KAAK,CAAC,aAAa,CAAC,CACpBC,GAAG,CAACK,iCAAoB,CAAC,CACzBP,GAAG,EAAE,CACLK,IAAI,EAAE"}